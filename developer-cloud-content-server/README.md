# 开发者平台-内容管理服务

## 功能介绍
内容管理服务是对应用静态资源提供统一管理的插件服务，主要包含以下功能：
1. 文件资源管理：包含文件资源上传，下载，删除，分类，列表等功能。
2. 文档资料管理：包含文档的编辑、保存、分类、列表、查看等功能

### 技术点选型
#### 文件资源管理
文件资源管理子模块涉及到位于不同网络分区的大文件上传和下载操作，考虑到上传/下载速度对用户体验的影响，文件存储使用腾讯云对象存储服务。故而在开发或部署时，应考虑申请腾讯云对象存储的秘钥，配置在开发者平台。否则开发者平台默认的资料管理功能处于不可用的状态。

开发者平台只是把文件的存储放到了腾讯云上，而文件的管理或者权限还是由开发者平台自己控制。所涉及的功能点如下：
1. 文件分类功能，使用云资源管理服务中的字典表中的字典分类。
2. 文件上传和下载功能：平台使用腾讯云对象存储api，对前台请求做出代理，直接将目标文件上传到腾讯云。下载文件时，由用户直接访问腾讯云暴露出来的链接（比我们的私有服务下载速度更快）。
3. 文件的删除、重命名等操作均由内容管理服务自身的表控制，因此文件资源表应具有以下字段：


列名                  | 含义
---                 |---
col 1               | 租户编号
col 1               | 分类字典编号
col 1               | 文件名
col 1               | 文件目标地址
col 1               | 文件目标地址类型（腾讯云/本地，暂时只支持腾讯云）
col 1               | 文件状态（可用、已删除、已过期）
col 1               | 文件版本

### 文档资料管理
开发者平台文档资料管理前端采用富文本编辑器，将文本文档直接提交到后端使用。后端在技术选型上比较简单，文件的内容直接保存于数据库中，分类信息使用云资源的通用字典。文档采用多版本管理的模式，任意时间同名同类型的文档只有一个版本是可用的。